<!DOCTYPE html>
<html class="light" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Blog - Derek Wu</title>
    <meta name="description" content="Insights on machine learning, venture capital, and technology"/>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#2b7cee",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101822",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"],
                    },
                },
            },
        }
    </script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../css/styles.css"/>
    <style>
        /* Line clamp utilities for text truncation */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-[#111418] dark:text-white font-display overflow-x-hidden antialiased">

<!-- Navbar will be loaded here -->
<div id="navbar-container"></div>

<!-- Mobile Menu -->
<div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-[#1a2634] border-b border-[#f0f2f4] dark:border-gray-800">
    <nav class="flex flex-col px-6 py-4 gap-4">
        <a class="text-sm font-medium hover:text-primary transition-colors" href="about.html">About</a>
        <a class="text-sm font-medium hover:text-primary transition-colors" href="projects.html">Projects</a>
        <a class="text-sm font-medium hover:text-primary transition-colors" href="blog.html">Blog</a>
        <a class="text-sm font-medium hover:text-primary transition-colors" href="vault.html">Vault</a>
    </nav>
</div>

<main class="flex-1 flex flex-col items-center w-full">
    <!-- Hero Section -->
    <section class="w-full max-w-[1200px] px-6 lg:px-10 py-12 lg:py-20">
        <div class="flex flex-col gap-4 animate-fade-in-up">
            <h1 class="text-[#111418] dark:text-white text-5xl sm:text-6xl lg:text-7xl font-black font-display leading-tight tracking-tight">
                Blog & Insights
            </h1>
            <p class="text-[#637588] dark:text-gray-400 text-lg sm:text-xl max-w-3xl leading-relaxed">
                Thoughts on machine learning, venture capital, building technology products, and the intersection of engineering and investing.
            </p>
        </div>
    </section>

    <!-- Substack Subscribe Widget -->
    <section class="w-full max-w-[1200px] px-6 lg:px-10 pb-8">
        <div class="flex justify-start">
            <div class="relative overflow-visible w-full">
                <div class="flex flex-col md:flex-row">
                    <!-- Logo Section -->
                    <div class="relative w-full md:w-auto md:flex-[2] overflow-visible">
                        <a href="https://ctrlaltinvest.substack.com" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="block w-full h-full hover:opacity-90 transition-opacity">
                            <img 
                                src="../images/blog_logo_landscape.png" 
                                alt="Blog Logo" 
                                class="w-full h-full object-cover rounded-lg"
                            />
                        </a>
                        <!-- Giphy GIF positioned at an angle -->
                        <img 
                            src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMnZ0andkdmRtbGx5eW5uem95ank1dWQwcjdqNDFsNmg5amw5MDVnbyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/r3oOLlq6oKUw2TCMKD/giphy.gif" 
                            alt="Animated GIF" 
                            class="absolute -top-12 -right-8 md:-top-20 md:-right-12 w-24 h-24 md:w-32 md:h-32 object-contain transform rotate-12 z-10 pointer-events-none"
                        />
                    </div>
                    
                    <!-- Subscribe Content -->
                    <div class="flex-1 p-6 md:p-8 flex flex-col justify-center items-end md:items-start">
                        <!-- Subscribe Text -->
                        <h3 class="text-xl font-bold text-[#111418] dark:text-white mb-6 text-right md:text-left">
                            Subscribe to the newsletter to receive updates
                        </h3>
                        
                        <!-- Subscribe Widget -->
                        <form id="subscribe-form" class="w-full max-w-lg ml-auto md:ml-0" onsubmit="handleSubscribe(event)">
                            <div class="flex flex-col sm:flex-row gap-3">
                                <input 
                                    type="email" 
                                    id="subscribe-email" 
                                    name="email" 
                                    placeholder="Enter your email" 
                                    required
                                    class="flex-1 px-4 py-3 rounded-lg border border-[#e5e7eb] dark:border-gray-700 bg-white dark:bg-[#0d1117] text-[#111418] dark:text-gray-200 placeholder:text-[#637588] dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"
                                />
                                <button 
                                    type="submit" 
                                    id="subscribe-button"
                                    class="px-6 py-3 bg-primary hover:bg-blue-600 dark:hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors whitespace-nowrap"
                                >
                                    Subscribe
                                </button>
                            </div>
                            <div id="subscribe-message" class="mt-3 text-sm hidden"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Substack Feed Section -->
    <section class="w-full max-w-[1200px] px-6 lg:px-10 pb-20">
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-[#111418] dark:text-white mb-2">Latest Posts</h2>
            <p class="text-[#637588] dark:text-gray-400">Recent articles from my Substack newsletter</p>
        </div>
        
        <!-- RSS Feed Container -->
        <div id="substack-feed-container"></div>
        
        <!-- View All Posts Link -->
        <div class="mt-8 text-center">
            <a href="https://ctrlaltinvest.substack.com" 
               target="_blank" 
               rel="noopener noreferrer"
               class="inline-flex items-center text-primary hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors">
                View all posts on Substack
                <span class="material-symbols-outlined ml-2">open_in_new</span>
            </a>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="w-full border-t border-[#f0f2f4] dark:border-gray-800 bg-white dark:bg-[#1a2634] py-8">
    <div class="max-w-[1200px] mx-auto px-6 lg:px-10 flex flex-col md:flex-row justify-between items-center gap-4">
        <p class="text-sm text-[#637588] dark:text-gray-400">Â© 2025 Derek Wu. All rights reserved.</p>
        <div class="flex gap-6">
            <a href="https://www.linkedin.com/in/derekjongwu/" target="_blank" rel="noopener noreferrer" class="text-[#637588] dark:text-gray-400 hover:text-primary transition-colors">LinkedIn</a>
            <a href="https://github.com/DerekJongWu" target="_blank" rel="noopener noreferrer" class="text-[#637588] dark:text-gray-400 hover:text-primary transition-colors">GitHub</a>
        </div>
    </div>
</footer>

<script src="../js/navbar-loader.js"></script>
<script src="../js/substack-feed.js"></script>
<script src="../js/main.js"></script>
<script>
async function handleSubscribe(event) {
    event.preventDefault();
    
    const emailInput = document.getElementById('subscribe-email');
    const submitButton = document.getElementById('subscribe-button');
    const messageDiv = document.getElementById('subscribe-message');
    const email = emailInput.value.trim();
    
    if (!email) {
        return;
    }
    
    // Disable form during submission
    submitButton.disabled = true;
    const originalText = submitButton.textContent;
    submitButton.textContent = 'Subscribing...';
    messageDiv.classList.add('hidden');
    
    const substackUrl = 'https://ctrlaltinvest.substack.com';
    
    try {
        // Try to subscribe via API (may have CORS restrictions)
        const response = await fetch(`${substackUrl}/api/v1/free`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email: email })
        });
        
        if (response.ok) {
            messageDiv.textContent = 'Successfully subscribed! Check your email to confirm.';
            messageDiv.className = 'mt-3 text-sm text-green-600 dark:text-green-400';
            messageDiv.classList.remove('hidden');
            emailInput.value = '';
        } else {
            throw new Error('Subscription failed');
        }
    } catch (error) {
        // Fallback: redirect to Substack subscribe page with email pre-filled
        window.location.href = `${substackUrl}/subscribe?email=${encodeURIComponent(email)}`;
        return;
    } finally {
        submitButton.disabled = false;
        submitButton.textContent = originalText;
    }
}
</script>
</body>
</html>
